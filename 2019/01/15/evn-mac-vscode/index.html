<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Mac," />





  <link rel="alternate" href="/atom.xml" title="老司机种菜" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="配置设置隐藏文件用于在资源管理器隐藏固定后缀的文件,配置方式:  首选项-&amp;gt;设置 搜索files.exclude,选择工作区设置 添加模式:**/*.pyc  Creating your own snippets既然你点开了这个页面，那就说明要么你不知道 VSCode 上已有拓展「C/C++ Snippets」，要么你对这个拓展不甚满意。对于后者，本文将为你介绍如何在 VSCode 上设置">
<meta name="keywords" content="Mac">
<meta property="og:type" content="article">
<meta property="og:title" content="vscode使用技巧">
<meta property="og:url" content="http://wodekouwei.com/2019/01/15/evn-mac-vscode/index.html">
<meta property="og:site_name" content="老司机种菜">
<meta property="og:description" content="配置设置隐藏文件用于在资源管理器隐藏固定后缀的文件,配置方式:  首选项-&amp;gt;设置 搜索files.exclude,选择工作区设置 添加模式:**/*.pyc  Creating your own snippets既然你点开了这个页面，那就说明要么你不知道 VSCode 上已有拓展「C/C++ Snippets」，要么你对这个拓展不甚满意。对于后者，本文将为你介绍如何在 VSCode 上设置">
<meta property="og:image" content="https://code.visualstudio.com/assets/docs/editor/userdefinedsnippets/ajax-snippet.gif">
<meta property="og:updated_time" content="2019-02-13T06:49:14.846Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vscode使用技巧">
<meta name="twitter:description" content="配置设置隐藏文件用于在资源管理器隐藏固定后缀的文件,配置方式:  首选项-&amp;gt;设置 搜索files.exclude,选择工作区设置 添加模式:**/*.pyc  Creating your own snippets既然你点开了这个页面，那就说明要么你不知道 VSCode 上已有拓展「C/C++ Snippets」，要么你对这个拓展不甚满意。对于后者，本文将为你介绍如何在 VSCode 上设置">
<meta name="twitter:image" content="https://code.visualstudio.com/assets/docs/editor/userdefinedsnippets/ajax-snippet.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wodekouwei.com/2019/01/15/evn-mac-vscode/"/>





  <title> vscode使用技巧 | 老司机种菜 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2021aa5f03a4203621d42ef374e0d5f7";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">老司机种菜</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wodekouwei.com/2019/01/15/evn-mac-vscode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="轻口味">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://images.wodekouwei.com/avatar/winnle_the_pooh.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老司机种菜">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                vscode使用技巧
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-15T10:31:09+08:00">
                2019-01-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/env/" itemprop="url" rel="index">
                    <span itemprop="name">env</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a class="cloud-tie-join-count" href="/2019/01/15/evn-mac-vscode/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count join-count" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读量
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="设置隐藏文件"><a href="#设置隐藏文件" class="headerlink" title="设置隐藏文件"></a>设置隐藏文件</h3><p>用于在资源管理器隐藏固定后缀的文件,配置方式:</p>
<ol>
<li>首选项-&gt;设置</li>
<li>搜索files.exclude,选择工作区设置</li>
<li>添加模式:<code>**/*.pyc</code></li>
</ol>
<h2 id="Creating-your-own-snippets"><a href="#Creating-your-own-snippets" class="headerlink" title="Creating your own snippets"></a>Creating your own snippets</h2><p>既然你点开了这个页面，那就说明要么你不知道 VSCode 上已有拓展「C/C++ Snippets」，要么你对这个拓展不甚满意。对于后者，本文将为你介绍如何在 VSCode 上设置 snippets，并为你提供一套可以直接用的 C 语言 snippets。</p>
<h3 id="1-snippet-简介"><a href="#1-snippet-简介" class="headerlink" title="1. snippet 简介"></a>1. snippet 简介</h3><p>snippet[ˈsnɪpɪt]，或者说「code snippet」，也即代码段，指的是能够帮助输入重复代码模式，比如循环或条件语句，的模板。通过 snippet ，我们仅仅输入一小段字符串，就可以在代码段引擎的帮助下，生成预定义的模板代码，接着我们还可以通过在预定义的光标位置之间跳转，来快速补全模板。</p>
<p>当然，看图更易懂。下图将 aja 补全为 JQuery 的 ajax() 方法，并通过光标的跳转，快速补全了待填键值对：
<img src="https://code.visualstudio.com/assets/docs/editor/userdefinedsnippets/ajax-snippet.gif" alt="image"></p>
<h3 id="2-snippet-配置流程"><a href="#2-snippet-配置流程" class="headerlink" title="2. snippet 配置流程"></a>2. snippet 配置流程</h3><p>进入 snippet 设置文件，这里提供了三种方法： 
通过快捷键「Ctrl + Shift + P」打开命令窗口（All Command Window），输入「snippet」，点选「首选项：配置用户代码段片段」；
点击界面最左侧竖栏（也即活动栏）最下方的齿轮按钮，在弹出来的菜单中点选「用户代码片段」；
按下「Alt」键切换菜单栏，通过文件 &gt; 首选项 &gt; 用户代码片段；
填写 snippets</p>
<h3 id="3-snippet-详细介绍"><a href="#3-snippet-详细介绍" class="headerlink" title="3. snippet 详细介绍"></a>3. snippet 详细介绍</h3><h4 id="3-1-引子"><a href="#3-1-引子" class="headerlink" title="3.1 引子"></a>3.1 引子</h4><p>设置文件头部的一个块注释给出了设置 snippet 的格式，了解过「json」就不会对此感到奇怪。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// Place your snippets for C here. Each snippet is defined under a snippet name and has a prefix, body and </div><div class="line"> // description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:</div><div class="line"> // $1, $2 for tab stops, $0 for the final cursor position, and $&#123;1:label&#125;, $&#123;2:another&#125; for placeholders. Placeholders with the </div><div class="line"> // same ids are connected.</div><div class="line"> // Example:</div><div class="line"> &quot;Print to console&quot;: &#123;</div><div class="line">    &quot;prefix&quot;: &quot;log&quot;,,</div><div class="line">    &quot;body&quot;: [</div><div class="line">        &quot;console.log(&apos;$1&apos;);&quot;,</div><div class="line">        &quot;$2&quot;</div><div class="line">    ],</div><div class="line">    &quot;description&quot;: &quot;Log output to console&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>上例定义了一个名为「Print to console」的 snippet，其功能为：在输入 log 并确认后，可将原文本替换为console.log(‘’);</p>
<h4 id="3-2-语法结构"><a href="#3-2-语法结构" class="headerlink" title="3.2 语法结构"></a>3.2 语法结构</h4><p>然而引子中只是最简单的功能，而 VSCode 的代码段引擎所能做的远不止这些。本文将以官方教程1为本，对其进行详实地阐述。</p>
<p>snippet 由三部分组成：</p>
<ol>
<li>prefix：前缀，定义了 snippets 从 IntelliSense 中呼出的关键字;</li>
<li>body： 主体，即模板的主体内容，其中每个字符串表示一行;</li>
<li>description：说明，会在 IntelliSense 候选栏中出现。未定义的情况下直接显示对象名，上例中将会显示 Print to console。
Snippet 的三个部分目前只有主体部分支持丰富的特性。接下来整篇文章都是拿来介绍主体部分的。主体部分的介绍将分为两部分：较为直接的基础用法，及结合正则表达式的高级用法。</li>
</ol>
<h4 id="3-3-Body-基本用法"><a href="#3-3-Body-基本用法" class="headerlink" title="3.3 Body - 基本用法"></a>3.3 Body - 基本用法</h4><p>主体部分可以使用特殊语法结构，来控制光标和要插入的文本，其支持的基本结构如下：</p>
<ol>
<li><p>Tabstops：制表符 
用「Tabstops」可以让编辑器的指针在 snippet 内跳转。使用 $1，$2 等指定光标位置。这些数字指定了光标跳转的顺序。特别地，$0表示最终光标位置。相同序号的「Tabstops」被链接在一起，将会同步更新，比如下列用于生成头文件封装的 snippet 被替换到编辑器上时，光标就将同时出现在所有$1位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;#ifndef $1&quot;</div><div class="line">&quot;#define $1&quot;</div><div class="line">&quot;#end // $1&quot;</div></pre></td></tr></table></figure>
</li>
<li><p>Placeholders：占位符 
「Placeholder」是带有默认值的「Tabstops」，如${1：foo}。「placeholder」文本将被插入「Tabstops」位置，并在跳转时被全选，以方便修改。占位符还可以嵌套，例如${1:another ${2:placeholder}}。
比如，结构体的 snippet 主体可以这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">struct $&#123;1:name_t&#125; &#123;\n\t$2\n&#125;;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>作为「Placeholder」的name_t一方面可以提供默认的结构名称，另一方面可以作为输入的提示。</p>
<ol>
<li><p>Choice：可选项
「Choice」是提供可选值的「Placeholder」。其语法为一系列用逗号隔开，并最终被两个竖线圈起来的枚举值，比如 ${1|one,two,three|}。当光标跳转到该位置的时候，用户将会被提供多个值（one 或 two 或 three）以供选择。</p>
</li>
<li><p>Variables：变量
使用$name或${name:default}可以插入变量的值。当变量未赋值时（如），将插入其缺省值或空字符串。 当varibale未知（即，其名称未定义）时，将插入变量的名称，并将其转换为「Placeholder」。可以使用的「Variable」如下：</p>
</li>
</ol>
<ul>
<li>TM_SELECTED_TEXT：当前选定的文本或空字符串； </li>
<li>注：选定后通过在命令窗口点选「插入代码片段」插入。</li>
<li>TM_CURRENT_LINE：当前行的内容；</li>
<li>TM_CURRENT_WORD：光标所处单词或空字符串 </li>
<li>注：所谓光标一般为文本输入处那条闪来闪去的竖线，该项可定制。单词使用 VSCode 选词（Word Wrap）器选择。你最好只用它选择英文单词，因为这个选择器明显没有针对宽字符优化过，它甚至无法识别宽字符的标点符号。</li>
<li>TM_LINE_INDEX：行号（从零开始）；</li>
<li>TM_LINE_NUMBER：行号（从一开始）；</li>
<li>TM_FILENAME：当前文档的文件名；</li>
<li>TM_FILENAME_BASE：当前文档的文件名（不含后缀名）；</li>
<li>TM_DIRECTORY：当前文档所在目录；</li>
<li>TM_FILEPATH：当前文档的完整文件路径；</li>
<li><p>CLIPBOARD：当前剪贴板中内容。
此外，还有一些用于插入当前时间的变量，这里单独列出：</p>
</li>
<li><p>CURRENT_YEAR: 当前年份；</p>
</li>
<li>CURRENT_YEAR_SHORT: 当前年份的后两位；</li>
<li>CURRENT_MONTH: 格式化为两位数字的当前月份，如 02；</li>
<li>CURRENT_MONTH_NAME: 当前月份的全称，如 July；</li>
<li>CURRENT_MONTH_NAME_SHORT: 当前月份的简称，如 Jul；</li>
<li>CURRENT_DATE: 当天月份第几天；</li>
<li>CURRENT_DAY_NAME: 当天周几，如 Monday；</li>
<li>CURRENT_DAY_NAME_SHORT: 当天周几的简称，如 Mon；</li>
<li>CURRENT_HOUR: 当前小时（24 小时制）；</li>
<li>CURRENT_MINUTE: 当前分钟；</li>
<li>CURRENT_SECOND: 当前秒数。
注：这些都是变量名，不是宏，在实际使用的时要加上 $ 符。</li>
</ul>
<h4 id="3-4-Body-高级语法"><a href="#3-4-Body-高级语法" class="headerlink" title="3.4 Body - 高级语法"></a>3.4 Body - 高级语法</h4><h5 id="3-4-1-变量转换"><a href="#3-4-1-变量转换" class="headerlink" title="3.4.1 变量转换"></a>3.4.1 变量转换</h5><p>变量转换可将变量的值格式化处理后插入预定的位置。</p>
<h6 id="3-4-1-1-语法结构"><a href="#3-4-1-1-语法结构" class="headerlink" title="3.4.1.1 语法结构"></a>3.4.1.1 语法结构</h6><p>我们可以通过 ${var_name/regular_expression/format_string/options} 插入格式化后的代码段。显然，「variable transformations」由 4 部分构成：</p>
<ol>
<li>var_name：变量名；</li>
<li>regular_expression：正则表达式；</li>
<li>format_string：格式串；</li>
<li>options：正则表达式匹配选项。
其中正则表达式的写法和匹配选项部分不在本篇博文的讲解范围之内，具体内容请分别参考 javascript 有关 RegExp(pattern [, flags]) 构造函数中的 pattern 及 flags 参数项的说明2。</li>
</ol>
<p>本文只对 format_string 部分进行详细介绍。</p>
<h6 id="3-4-1-2-format-string-部分"><a href="#3-4-1-2-format-string-部分" class="headerlink" title="3.4.1.2 format_string 部分"></a>3.4.1.2 format_string 部分</h6><p>根据其 EBNF 范式，我们可以知道 format_string 其实是 format 或 text 的线性组合：</p>
<ol>
<li>text：也即没有任何作用的普通文本，你甚至可以使用汉字；</li>
<li>format：格式串，分为 7 种： </li>
</ol>
<ul>
<li>$sn：表示插入匹配项；</li>
<li>${sn}：同 $sn；</li>
<li>${sn:/upcase} 或 ${sn:/downcase} 或 ${sn:/capitalize}：表示将匹配项变更为「所有字母均大写/所有字母均小写/首字母大写其余小写」后，插入；</li>
<li>${sn:+if}：表示当匹配成功时，并且捕捉括号捕捉特定序号的捕捉项成功时，在捕捉项位置插入「if」所述语句；</li>
<li>${sn:?if:else}：表示当匹配成功，并且捕捉括号捕捉特定序号的捕捉项成功时，在捕捉项位置插入「if」所述语句；否则当匹配成功，但当捕捉括号捕捉特定序号的捕捉项失败时，在捕捉项位置插入「else」所述语句；</li>
<li>${sn:-else}：表示当匹配成功，但当捕捉括号捕捉特定序号的捕捉项失败时，在捕捉项位置插入「else」所述语句；</li>
<li>${sn:else}：同 ${sn:-else}。
format 的后三条理解起来可能比较困难。这里我们以倒数第三条为例进行说明。假设我们有一个「make.c」文件，我们有这么一条 snippet: “body”: “${TM_FILENAME/make.c(pp|++)?/${1:?c++:clang}/}”。整个模式串匹配成功，但是捕捉括号捕捉后缀名中的 pp 或 ++ 失败，因此判断条件在捕捉括号的位置插入捕捉失败时应插入的字符串，也即「clang」。<blockquote>
<p>注：
其中 sn 表示捕捉项的序号
其中 if 表示捕捉项捕捉成功时替换的文本
其中 else 表示捕捉项捕失败时替换的文本</p>
</blockquote>
</li>
</ul>
<h6 id="3-4-1-3-案例分析"><a href="#3-4-1-3-案例分析" class="headerlink" title="3.4.1.3 案例分析"></a>3.4.1.3 案例分析</h6><p>下面笔者再介绍一个简单的例子，帮助大家理解「variable transformations」。</p>
<p>假设有一个名为「make.c」的文件中，并且我们已经定义如下 snippet。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot;#ifndef HEADER … #define … #endif&quot;:&#123;</div><div class="line">&quot;prefix&quot;: &quot;defheader&quot;,</div><div class="line">&quot;body&quot;: &quot;#ifndef $&#123;1:$&#123;TM_FILENAME/(.*)\\.C$/$&#123;1:/upcase&#125;_H/i&#125;&#125; \n#define $1 \n$&#123;2:header content&#125;\n#endif\t// $1&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>其中最复杂的模式为：${1:${TM_FILENAME/(.*)\.C$/${1:/upcase}_H/i}}，我们将之拆解为如下五部分： </p>
<ol>
<li>${1:…}：嵌套的 placeholder； </li>
<li>${TM_FILENAM/…/…/.}：「variable transformations」中的「var_name」，表示带后缀的文件名； </li>
<li>${…/(.*)\.C$/…/.}：「variable transformations」中的「regular_expression」，表示匹配任意以「.C」为后缀的字符串； </li>
<li>${…/…/${1:/upcase}_H/.}}：「variable transformations」中的「options」，表示将第一个捕捉项替换为大写的，并添加「_H」的后缀； </li>
<li>${…/…/…/i}：「variable transformations」中的「options」，表示无视大小写。</li>
</ol>
<h5 id="3-4-2-占位符转换"><a href="#3-4-2-占位符转换" class="headerlink" title="3.4.2 占位符转换"></a>3.4.2 占位符转换</h5><h6 id="3-4-2-1-语法结构"><a href="#3-4-2-1-语法结构" class="headerlink" title="3.4.2.1 语法结构"></a>3.4.2.1 语法结构</h6><p>我们可以通过 ${int/regular_expression/format_string/options} 插入格式化后的代码段。显然，与变量转换，「placeholder transformations」也由 4 部分构成：</p>
<ol>
<li>int：占位符相应光标序号；</li>
<li>regular_expression：正则表达式；</li>
<li>format_string：格式串；</li>
<li>options：正则表达式匹配选项。
上述全部内容我们都在前文介绍过了，因此此处不做赘述。我们唯一需要关注的是转换触发的时机：占位符转换将在进行占位符跳转（假设 1→2）的时候自动适用到当前占位符（1）。</li>
</ol>
<h6 id="3-4-2-2-案例分析"><a href="#3-4-2-2-案例分析" class="headerlink" title="3.4.2.2 案例分析"></a>3.4.2.2 案例分析</h6><p>假设我们已经这样的 Snippet：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot;HelloWorld&quot;: &#123;</div><div class="line">  &quot;prefix&quot;: &quot;say_hello&quot;,</div><div class="line">  &quot;body&quot;: &quot;$&#123;1&#125; $&#123;2&#125; -&gt; $&#123;1/Hello/Hallo/&#125; $&#123;2/World/Welt/&#125;&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>那么我们在两个制表位同时键入 Hello 并跳转的时候，第一个制表位依然保持 Hello 不变，而第二个制表位（占位符）被替换为 Hallo。键入 Welt 亦然。</p>
<h4 id="3-5-语法定义"><a href="#3-5-语法定义" class="headerlink" title="3.5 语法定义"></a>3.5 语法定义</h4><p>官网给出了 snippet 的 EBNF 范式的正则文法，注意，作普通字符使用时，$ , } 和 \ 可使用 \（反斜杠）转义。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">any         ::= tabstop | placeholder | choice | variable | text</div><div class="line">tabstop     ::= &apos;$&apos; int</div><div class="line">                | &apos;$&#123;&apos; int &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; int  transform &apos;&#125;&apos;</div><div class="line">placeholder ::= &apos;$&#123;&apos; int &apos;:&apos; any &apos;&#125;&apos;</div><div class="line">choice      ::= &apos;$&#123;&apos; int &apos;|&apos; text (&apos;,&apos; text)* &apos;|&#125;&apos;</div><div class="line">variable    ::= &apos;$&apos; var | &apos;$&#123;&apos; var &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; var &apos;:&apos; any &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; var transform &apos;&#125;&apos;</div><div class="line">transform   ::= &apos;/&apos; regex &apos;/&apos; (format | text)+ &apos;/&apos; options</div><div class="line">format      ::= &apos;$&apos; int | &apos;$&#123;&apos; int &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; int &apos;:&apos; &apos;/upcase&apos; | &apos;/downcase&apos; | &apos;/capitalize&apos; &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; int &apos;:+&apos; if &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; int &apos;:?&apos; if &apos;:&apos; else &apos;&#125;&apos;</div><div class="line">                | &apos;$&#123;&apos; int &apos;:-&apos; else &apos;&#125;&apos; | &apos;$&#123;&apos; int &apos;:&apos; else &apos;&#125;&apos;</div><div class="line">regex       ::= JavaScript Regular Expression value (ctor-string)</div><div class="line">options     ::= JavaScript Regular Expression option (ctor-options)</div><div class="line">var         ::= [_a-zA-Z] [_a-zA-Z0-9]*</div><div class="line">int         ::= [0-9]+</div><div class="line">text        ::= .*</div></pre></td></tr></table></figure></p>
<h3 id="4-一些建议"><a href="#4-一些建议" class="headerlink" title="4. 一些建议"></a>4. 一些建议</h3><p>默认情况下 snippet 在 IntelliSense 中的显示优先级并不高，而且在 IntelliSense 中选择相应 snippet 需要按「enter」键，这对于手指短的人来说并不是什么很好的体验。</p>
<p>所幸，VSCode 意识到了这一点，并为我们提供了改进的方式。我们可以在 VSCode 的用户设置（「Ctrl+P」在输入框中写「user settings」后点选）中，检索代码段，然后根据提示修改代码段的相关设置。</p>
<p>我们可以设置在 IntelliSense 中优先显示代码段，并可以通过「TAB」补全。</p>
<p>修改后设置文件中会多出这两行：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&quot;editor.snippetSuggestions&quot;: &quot;top&quot;,</div><div class="line">&quot;editor.tabCompletion&quot;: true</div></pre></td></tr></table></figure></p>
<blockquote>
<p>参考:<a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets" target="_blank" rel="external">https://code.visualstudio.com/docs/editor/userdefinedsnippets</a>
<a href="https://blog.csdn.net/maokelong95/article/details/54379046?utm_source=blogxgwz0" target="_blank" rel="external">https://blog.csdn.net/maokelong95/article/details/54379046?utm_source=blogxgwz0</a></p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http://images.wodekouwei.com/Pay/weixin_qingkouwei.png" alt="轻口味 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="http://images.wodekouwei.com/Pay/zhifubao_qingkouwei.jpg" alt="轻口味 Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Mac/" rel="tag"># Mac</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/14/l-python-string/" rel="next" title="Python之字符串">
                <i class="fa fa-chevron-left"></i> Python之字符串
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/17/l-python-class/" rel="prev" title="python之面向对象">
                python之面向对象 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://images.wodekouwei.com/avatar/winnle_the_pooh.jpg"
               alt="轻口味" />
          <p class="site-author-name" itemprop="name">轻口味</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">167</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">62</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/qingkouwei" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/LightTaste" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.douban.com/people/turnpp/" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/shen-jun-wei-9/" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/ossrs/srs" title="SRS" target="_blank">SRS</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#配置"><span class="nav-number">1.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设置隐藏文件"><span class="nav-number">1.1.</span> <span class="nav-text">设置隐藏文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creating-your-own-snippets"><span class="nav-number">2.</span> <span class="nav-text">Creating your own snippets</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-snippet-简介"><span class="nav-number">2.1.</span> <span class="nav-text">1. snippet 简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-snippet-配置流程"><span class="nav-number">2.2.</span> <span class="nav-text">2. snippet 配置流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-snippet-详细介绍"><span class="nav-number">2.3.</span> <span class="nav-text">3. snippet 详细介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-引子"><span class="nav-number">2.3.1.</span> <span class="nav-text">3.1 引子</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-语法结构"><span class="nav-number">2.3.2.</span> <span class="nav-text">3.2 语法结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-Body-基本用法"><span class="nav-number">2.3.3.</span> <span class="nav-text">3.3 Body - 基本用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-Body-高级语法"><span class="nav-number">2.3.4.</span> <span class="nav-text">3.4 Body - 高级语法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-1-变量转换"><span class="nav-number">2.3.4.1.</span> <span class="nav-text">3.4.1 变量转换</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#3-4-1-1-语法结构"><span class="nav-number">2.3.4.1.1.</span> <span class="nav-text">3.4.1.1 语法结构</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-4-1-2-format-string-部分"><span class="nav-number">2.3.4.1.2.</span> <span class="nav-text">3.4.1.2 format_string 部分</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-4-1-3-案例分析"><span class="nav-number">2.3.4.1.3.</span> <span class="nav-text">3.4.1.3 案例分析</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-2-占位符转换"><span class="nav-number">2.3.4.2.</span> <span class="nav-text">3.4.2 占位符转换</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#3-4-2-1-语法结构"><span class="nav-number">2.3.4.2.1.</span> <span class="nav-text">3.4.2.1 语法结构</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-4-2-2-案例分析"><span class="nav-number">2.3.4.2.2.</span> <span class="nav-text">3.4.2.2 案例分析</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-语法定义"><span class="nav-number">2.3.5.</span> <span class="nav-text">3.5 语法定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-一些建议"><span class="nav-number">2.4.</span> <span class="nav-text">4. 一些建议</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">轻口味</span>
</div>

<div>
<a href="http://www.miitbeian.gov.cn/">京ICP备17018543号</a>

        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  
    
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "bb46b146831e4e34808d09cd94c85f50",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  
  


  

</body>
</html>
